# -*- coding: utf-8 -*-
from openai import OpenAI
import asyncio



class AI:
    def __init__(self):
        self.client = None
        self.model = "tngtech/deepseek-r1t2-chimera:free"

    async def get_client(self) -> type(OpenAI):
        if self.client is None:
            self.client = OpenAI(
                base_url="",
                api_key=""
            )
        else:
            return self.client

        return self.client


    async def requests(self, age, favoriteGenres, data: tuple, looking=""):
        mood, company, time = data
        client = await self.get_client()
        completion = client.chat.completions.create(
            model=self.model,
            messages=[
                {
                    "role": "user",
                    "content": f"""
                                –Ø —Ö–æ—á—É –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∏–ª—å–º, –∏ –Ω–µ–º–æ–≥—É –≤—ã–±—Ä–∞—Ç—å. 
                               –ú–æ–∂–µ—à—å –¥–∞—Ç—å –º–Ω–µ —Å–ø–∏—Å–æ–∫ –∏–∑ 5 —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—è –±–µ–∑ —Å–ø–æ–π–ª–µ—Ä–æ–≤.
                               –ü–æ–¥–±–µ—Ä–∏ —Ñ–∏–ª—å–º—ã –ø–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –æ–±–æ –º–Ω–µ –∏ –æ –º–æ–µ–º –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–∏ –ø–æ —Ñ–∏–ª—å–º–∞–º –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç:
                               –ú–æ–π –≤–æ–∑—Ä–∞—Å—Ç: {age}, –º–æ–∏ –ª—é–±–∏–º—ã–µ –∂–∞–Ω—Ä—ã: {favoriteGenres}, 
                               –ú–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ–π—á–∞—Å –∏–ª–∏ —á—Ç–æ —Ö–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –æ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞: {mood}, 
                               –∫–æ–º–ø–∞–Ω–∏—è —Å –∫–æ—Ç–æ—Ä–æ–π —è —Ö–æ—á—É –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∏–ª—å–º: {company},
                               –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å–∏—Ç —Ñ–∏–ª—å–º–∞ (–Ω–µ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å—Ö–æ–¥–∏—Ç—å—Å—è –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 20–º–∏–Ω): {time}.
                               
                               –°–¥–µ–ª–∞–π –æ—Å–Ω–æ–≤–Ω–æ–π —É–ø–æ—Ä –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (—ç—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ, –º–æ–∂–Ω–æ –ø—Ä–µ–Ω–µ–±—Ä–µ—á—å –¥–∞–∂–µ –∂–∞–Ω—Ä–∞–º–∏ –∏ –∫–æ–º–ø–∞–Ω–∏–µ–π), –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ —Ö–æ—á–µ—Ç –ø–æ–ø–ª–∞–∫–∞—Ç—å –¥–∞–π —Ñ–∏–ª—å–º –Ω–∞ –∫–æ—Ç—Ä–æ–º –æ–Ω –ø–æ–ø–ª–∞—á–µ—Ç, –µ—Å–ª–∏ —Ö–æ—á–µ—Ç –∏—Å–ø—É–≥–∞—Ç—å—Å—è –≤—ã—Å–æ—Ç—ã, –¥–∞–π —Ñ–∏–ª—å–º –≥–¥–µ –∏—Å—Ç–æ—Ä–∏—è —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ —ç—Ç–æ–º —Å—Ç—Ä–∞—Ö–µ, –µ—Å–ª–∏ —Ö–æ—á–µ—Ç –ø–æ—Å–º–µ—è—Ç—Å—è —Å —á–µ—Ä–Ω—ã—Ö —à—É—Ç–æ–∫, –¥–∞–π –µ–º—É —ç—Ç–æ—Ç —Ñ–∏–ª—å–º
                               –¢–∞–∫ –∂–µ —É–¥–µ–ª–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ —Å –∫–µ–º —á–µ–ª–æ–≤–µ–∫ —Å–º–æ—Ç—Ä–∏—Ç —Ñ–∏–ª—å–º
                               –î–∞–π –æ—Ç–≤–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
                               –ù–µ –ø–∏—à–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –Ω–∏—á–µ–≥–æ –ø—Ä–æ —Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å–º –ø–æ —Ä–∞–º–∫–∞–º –∫ –∑–∞–¥–∞–Ω–Ω–∞–º—É –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –Ω–µ—Ç
                               –ù–∏ –≤ –∫–æ–µ–º —Å–ª—É—á–∞–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–π —Ñ–∏–ª—å–º—ã –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞: ({looking}), —ç—Ç–∏ —Ñ–∏–ª—å–º—ã —É–∂–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –ø–æ–≤—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω—ã
                               –¢–≤–æ–π –æ—Ç–≤–µ—Ç –ø–æ–π–¥–µ—Ç –≤ —á–∞—Ç —Ç–µ–ª–µ–≥—Ä–∞–º–º–∞. –ï–≥–æ –±—É–¥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –∏ —Å—Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –º–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –≤ —Ç–µ–∫—Å—Ç –∏ –Ω–µ –ø–∏—Å–∞—Ç—å —Å–∏–ª—å–Ω–æ –≥—Ä–∞–º–æ—Å—Å–∫–∏–µ –ø—Ä–µ–¥–æ–ª–∂–µ–Ω–∏—è —á—Ç–æ–± –±—ã–ª–æ –ø—Ä–æ—â–µ –æ–µ—Ä–∏–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Ç–µ–∫—Å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
                               
                               –ú–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–≤–µ—Ç –≤ —Ç–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ: 
                               üé¨ 5 —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ –≤–µ—á–µ—Ä <–∫–∞–∫–æ–π —Ç–æ –∫–æ–º–∞–Ω—Ç–∞—Ä–∏–π>
 
                                    1. <1-2 —Å–º–∞–π–ª–∏–∫–∞ –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ñ–∏–ª—å–º> <–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ 1> <–≥–æ–¥ –≤—ã—Ö–æ–¥–∞ —Ñ–∏–ª—å–º–∞> 
                                       <–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–æ–π>. <–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö>.
                                    
                                    2. <1-2 —Å–º–∞–π–ª–∏–∫–∞ –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ñ–∏–ª—å–º> <–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ 2> <–≥–æ–¥ –≤—ã—Ö–æ–¥–∞ —Ñ–∏–ª—å–º–∞> 
                                       <–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–æ–π>. <–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö>.
                                    
                                    3. <1-2 —Å–º–∞–π–ª–∏–∫–∞ –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ñ–∏–ª—å–º> <–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ 3> <–≥–æ–¥ –≤—ã—Ö–æ–¥–∞ —Ñ–∏–ª—å–º–∞> 
                                       <–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–æ–π>. <–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö>.
                                    
                                    4. <1-2 —Å–º–∞–π–ª–∏–∫–∞ –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ñ–∏–ª—å–º> <–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ 4> <–≥–æ–¥ –≤—ã—Ö–æ–¥–∞ —Ñ–∏–ª—å–º–∞> 
                                       <–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–æ–π>. <–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö>.
                                    
                                    5. <1-2 —Å–º–∞–π–ª–∏–∫–∞ –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ñ–∏–ª—å–º> <–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ 5> <–≥–æ–¥ –≤—ã—Ö–æ–¥–∞ —Ñ–∏–ª—å–º–∞> 
                                       <–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–æ–π>. <–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö>.
                                    
                                <–ø–æ–∂–µ–ª–∞–π –ø—Ä–∏—è—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –¥–æ–±–∞–≤—å –∫–∞–∫–æ–µ –Ω–∏–±—É–¥—å –∑–∞–±–∞–≤–Ω–æ–µ –∂–µ–ª–∞–Ω–∏–µ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º/–∫–æ–º–ø–∞–Ω–∏–µ–π –∏–ª–∏ –µ—â–µ —á–µ–º —Ç–æ>! üçø
                                """
                }
            ],
        )

        return completion.choices[0].message.content

    async def get_filmName(self, text):
        client = await self.get_client()

        completion = client.chat.completions.create(
            model=self.model,
            messages=[
                {
                    "role": "user",
                    "content": f"""–ú–æ–∂–µ—à—å –¥–æ—Å—Ç–∞—Ç—å –∏–∑ —ç—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ–∏–ª—å–º–æ–≤: '{text}'. –ù–∞–∑–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ —Å—Ç—Ä–æ—á–∫—É —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª —Å –∑–∞–ø—è—Ç–æ–π, –∫—Ä–æ–º–µ –Ω–∏—Ö –Ω–∏—á–µ–≥–æ –ø–∏—Å–∞—Ç—å –Ω–µ –Ω–∞–¥–æ"""
                }
            ],
        )
        return completion.choices[0].message.content

async def main():
    ai = AI()
    res = await ai.requests(19, "–¢—Ä–∏–ª–ª–µ—Ä –£–∂–∞—Å –ö–æ–º–µ–¥–∏—è –ú–∏—Å—Ç–∏–∫–∞", ("–ü–æ—Å–º–µ—è—Ç—Å—è", "–° –¥—Ä—É–∑—å—è–º–∏", "100-140–º–∏–Ω"))
    print(res)

if __name__ == "__main__":
    asyncio.run(main())